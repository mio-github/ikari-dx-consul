# イカリ消毒株式会社様 DXコンサルティング
# 技術要件定義書

**作成日**: 2025年11月16日
**作成者**: 株式会社ミオシステム 平野 雅也
**バージョン**: 1.0

---

## 📋 目次

1. [ドキュメント概要](#1-ドキュメント概要)
2. [現行システム構成](#2-現行システム構成)
3. [DX推進の技術アーキテクチャ](#3-dx推進の技術アーキテクチャ)
4. [フェーズ別技術要件](#4-フェーズ別技術要件)
5. [システム別詳細要件](#5-システム別詳細要件)
6. [セキュリティ要件](#6-セキュリティ要件)
7. [インフラ・運用要件](#7-インフラ運用要件)
8. [データ要件](#8-データ要件)
9. [インターフェース要件](#9-インターフェース要件)
10. [非機能要件](#10-非機能要件)

---

## 1. ドキュメント概要

### 1.1 目的

本ドキュメントは、イカリ消毒株式会社様のDX推進において必要となる技術要件を定義し、システム導入・構築の指針を示すことを目的としています。

### 1.2 スコープ

**対象期間**: 2026年度〜2030年度（5ヵ年計画）

**対象システム**:
- 既存システムの拡張・改修
- 新規システムの導入
- データ統合基盤の構築
- AI/分析システムの導入

### 1.3 ドキュメントの使い方

- **Phase 1（2026年度）**: 第2章、第4.1節、第5章の該当部分を参照
- **Phase 2以降**: 該当フェーズの要件を順次参照
- **全フェーズ共通**: 第6章（セキュリティ）、第7章（インフラ）、第10章（非機能要件）を参照

### 1.4 前提条件

本要件定義書は以下を前提としています:

✅ ヒアリング実施後、実態に合わせて精緻化が必要
✅ 業界標準・ベストプラクティスに準拠
✅ 段階的な導入を前提とした要件定義
✅ 既存資産の最大活用を優先

---

## 2. 現行システム構成

### 2.1 システム全体図

```
┌─────────────────────────────────────────────────────────┐
│                    経営層・管理層                          │
│              （経営ダッシュボード ※構築予定）                │
└─────────────────────────────────────────────────────────┘
                           ▲
                           │
┌─────────────────────────────────────────────────────────┐
│              総合経営管理システム（中核）                    │
│     ・ヘルプデスク機能  ・データビジュアル化推進中            │
└─────────────────────────────────────────────────────────┘
         ▲          ▲          ▲          ▲          ▲
         │          │          │          │          │
    ┌────┴────┐ ┌──┴──┐ ┌───┴───┐ ┌──┴──┐ ┌──┴──┐
    │イカリナビ│ │ CX  │ │トラップ │ │異物  │ │微生物│
    │システム │ │システ│ │工程管理 │ │検査  │ │理化学│
    │        │ │ム   │ │システム │ │シス  │ │検査  │
    └─────────┘ └─────┘ └────────┘ └─────┘ └─────┘

┌─────────────────────────────────────────────────────────┐
│                  クラウドサービス層                         │
│              AWS環境  │  kintone                          │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│              情報セキュリティ基盤（ISO27001）                 │
│   ネットワーク │ アクセス管理 │ サーバー管理                 │
└─────────────────────────────────────────────────────────┘
```

### 2.2 中核システム

#### 総合経営管理システム

**現状機能**:
- 経営データの統合管理
- ヘルプデスク機能
- データビジュアル化（推進中）

**管理部門**: 情報システムG

**技術スタック**: ※ヒアリングで確認必要
- データベース: （要確認）
- アプリケーションサーバー: （要確認）
- 開発言語: （要確認）

**連携システム**:
- 各部門システム（連携状況は要確認）
- イカリナビシステム
- kintone（連携状況は要確認）

### 2.3 部門別システム

#### イカリナビシステム

**用途**: 社内情報共有・ナビゲーション
**管理**: 情報システムG
**主要機能**:
- 社内情報共有
- ID・アクセス権管理
- フォルダ管理

**技術要件** ※ヒアリングで確認必要:
- プラットフォーム: （要確認）
- 認証方式: （要確認）
- アクセス制御: （実装済み）

#### CXシステム

**用途**: 商品管理・顧客体験
**管理**: 商品開発G
**インフラ**: AWS環境

**技術要件** ※ヒアリングで確認必要:
- クラウド環境: AWS
- データベース: （要確認）
- API提供状況: （要確認）

#### トラップ工程管理システム

**用途**: トラップ検査の工程管理
**管理**: 異物分析部

**技術要件** ※ヒアリングで確認必要:
- データ項目: 検査進捗、結果、画像等
- データ量: （要確認）
- 更新頻度: （要確認）

#### 異物検査システム

**用途**: 異物検査業務
**管理**: 異物分析部

**AI活用可能性**: 高
- 画像認識による異物分類
- 自動判定支援

#### 微生物・理化学検査システム

**用途**: 検査業務（社内）
**管理**: 食品医薬分析部
**認証**: ISO/IEC17025認定環境

**技術要件**:
- データトレーサビリティ: 必須
- 認定要件への準拠: 必須

### 2.4 クラウド環境

#### AWS環境

**管理**: 商品開発G
**用途**: システム構築・維持管理

**現状利用サービス** ※ヒアリングで確認必要:
- コンピューティング: EC2 / Lambda 等（要確認）
- データベース: RDS / DynamoDB 等（要確認）
- ストレージ: S3 等（要確認）

#### kintone

**管理**: 情報システムG
**用途**: 業務アプリケーション

**現状活用状況** ※ヒアリングで確認必要:
- 作成アプリ数: （要確認）
- 利用部門: （要確認）
- ユーザー数: （要確認）

---

## 3. DX推進の技術アーキテクチャ

### 3.1 目指すアーキテクチャ（2030年）

```
┌───────────────────────────────────────────────────────┐
│              経営層・管理層                              │
│    ・経営ダッシュボード（Power BI）                       │
│    ・AI予測分析  ・リアルタイムKPI                       │
└───────────────────────────────────────────────────────┘
                        ▲
                        │ API / データ連携
                        │
┌───────────────────────────────────────────────────────┐
│           データ統合基盤（Data Platform）                 │
│  ・データウェアハウス（DWH）                              │
│  ・データレイク                                          │
│  ・マスタデータ管理（MDM）                                │
│  ・API Gateway                                         │
└───────────────────────────────────────────────────────┘
         ▲         ▲         ▲         ▲         ▲
         │API連携  │API連携  │API連携  │API連携  │API連携
         │         │         │         │         │
    ┌────┴───┐ ┌──┴──┐ ┌───┴──┐ ┌──┴──┐ ┌──┴──┐
    │総合経営 │ │ CX  │ │検査  │ │ CRM │ │ RPA │
    │管理    │ │シス │ │分析  │ │     │ │     │
    │システム│ │テム │ │システ│ │     │ │     │
    │        │ │     │ │ム群  │ │     │ │     │
    └────────┘ └─────┘ └──────┘ └─────┘ └─────┘

┌───────────────────────────────────────────────────────┐
│                AI/分析レイヤー                            │
│  ・画像認識AI  ・予測分析  ・異常検知                     │
└───────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────┐
│              クラウド基盤（Hybrid Cloud）                 │
│        AWS  │  Azure  │  オンプレミス                    │
└───────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────┐
│          セキュリティ基盤（Zero Trust Model）              │
│  ・MFA  ・EDR  ・SIEM  ・ID管理  ・暗号化                │
└───────────────────────────────────────────────────────┘
```

### 3.2 アーキテクチャの設計原則

#### 原則1: 段階的進化（Evolutionary Architecture）

- 一度に全てを刷新しない
- 既存資産を活かしながら段階的に移行
- 各フェーズで価値を提供

#### 原則2: API First

- システム間連携はAPI経由を原則とする
- 疎結合なシステム構成
- 将来の拡張性を確保

#### 原則3: クラウドネイティブ

- クラウドサービスの積極活用
- スケーラビリティの確保
- 運用負荷の軽減

#### 原則4: データドリブン

- データを中心に据えた設計
- データ品質の維持
- データガバナンスの確立

#### 原則5: セキュリティバイデザイン

- 設計段階からセキュリティを考慮
- ゼロトラストモデルへの段階的移行
- ISO27001認証の維持

### 3.3 技術スタック方針

#### フロントエンド

**ダッシュボード・BI**:
- 推奨: Microsoft Power BI
- 理由: コストパフォーマンス、Office連携、導入容易性

**Webアプリケーション**:
- フレームワーク: React / Vue.js 等のモダンフレームワーク
- レスポンシブデザイン対応

**モバイルアプリ**:
- クロスプラットフォーム: Flutter / React Native
- または Progressive Web App (PWA)

#### バックエンド

**API開発**:
- RESTful API or GraphQL
- 言語: Python / Node.js / Java 等（既存スキルを考慮）

**認証・認可**:
- OAuth 2.0 / OpenID Connect
- SAML（既存システムとの連携考慮）

#### データ基盤

**データウェアハウス**:
- クラウド: Azure Synapse Analytics / Amazon Redshift
- オンプレミス: PostgreSQL / MySQL（既存DB活用）

**データレイク**:
- Amazon S3 / Azure Data Lake Storage

**ETL/ELT**:
- AWS Glue / Azure Data Factory
- またはApache Airflow

#### AI/機械学習

**開発環境**:
- Python（scikit-learn, TensorFlow, PyTorch）
- クラウドMLサービス: Azure ML / AWS SageMaker

**画像認識**:
- TensorFlow / PyTorch
- 事前学習モデルの活用（転移学習）

#### RPA

**推奨ツール**:
- WinActor / Power Automate / UiPath
- 選定基準: コスト、使いやすさ、サポート体制

#### インフラ

**クラウド**:
- 主力: AWS（既存実績あり）
- 補完: Azure（Office 365連携）

**コンテナ**:
- Docker / Kubernetes（必要に応じて）

---

## 4. フェーズ別技術要件

### 4.1 Phase 1: 基盤整備期（2026年度）

#### 4.1.1 データ統合基盤の構築

**要件ID**: REQ-P1-001

**概要**: 総合経営管理システムを中核としたデータ統合基盤の強化

**機能要件**:

1. **API Gateway構築**
   - 各システムのAPIを統合的に管理
   - 認証・認可の一元化
   - API使用状況の監視

2. **マスタデータ管理（MDM）**
   - 顧客マスタの一元管理
   - 商品マスタの一元管理
   - 社員マスタの一元管理
   - マスタデータの整合性チェック

3. **データ連携基盤**
   - 総合経営管理システム ↔ 各部門システム
   - リアルタイム連携 or バッチ連携（要件に応じて）
   - データ変換・クレンジング機能

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| API方式 | RESTful API |
| データ形式 | JSON |
| 認証 | OAuth 2.0 + JWT |
| プロトコル | HTTPS（TLS 1.2以上） |
| API Gateway | AWS API Gateway / Azure API Management |
| データ同期 | リアルタイム（優先）+ バッチ（補完） |

**非機能要件**:

- 可用性: 99.9%以上（業務時間内）
- レスポンスタイム: 2秒以内（通常時）
- 同時接続数: 100接続以上
- データ整合性: トランザクション保証

**成果物**:
- API仕様書
- データ連携設計書
- マスタデータ管理規程

#### 4.1.2 経営ダッシュボードの構築

**要件ID**: REQ-P1-002

**概要**: Power BIによる経営ダッシュボードの設計・構築

**機能要件**:

1. **経営KPIダッシュボード**
   - 売上推移（日次・月次・年次）
   - 利益推移
   - 人時生産性
   - 部門別業績
   - 予算実績対比

2. **営業ダッシュボード**
   - 地域別売上
   - 顧客別売上ランキング
   - 契約状況（新規・更新・解約）
   - 商談進捗状況

3. **業務管理ダッシュボード**
   - 作業進捗状況
   - 検査件数推移
   - リソース稼働率
   - ヘルプデスク対応状況

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| BIツール | Microsoft Power BI |
| データソース | 総合経営管理システム、各部門システム |
| 更新頻度 | リアルタイム〜日次（データ種別による） |
| アクセス制御 | 役職・部門別のアクセス権限設定 |
| デバイス対応 | PC、タブレット、スマートフォン |

**非機能要件**:

- レスポンス: 5秒以内（ダッシュボード表示）
- 同時利用者: 50名以上
- データ鮮度: リアルタイム〜1時間以内
- セキュリティ: 役職・部門別アクセス制御

**成果物**:
- ダッシュボード設計書
- KPI定義書
- 操作マニュアル

#### 4.1.3 RPA導入（パイロット）

**要件ID**: REQ-P1-003

**概要**: 定型業務の自動化（パイロット導入）

**対象業務（候補）**:

1. **経理業務**
   - 請求書データ入力
   - 経費精算処理
   - 月次決算データ集計

2. **営業業務**
   - 売上データ入力
   - 顧客情報更新
   - 報告書作成

3. **総務業務**
   - 勤怠データ集計
   - 社内申請処理
   - データバックアップ

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| RPAツール | WinActor / Power Automate / UiPath（選定要） |
| 対象OS | Windows 10/11 |
| 実行環境 | デスクトップ型 or サーバー型 |
| エラーハンドリング | 異常検知・通知機能 |
| ログ管理 | 実行ログの記録・保存 |

**非機能要件**:

- 稼働率: 95%以上
- エラー率: 5%以下
- 処理時間: 手作業の1/3以下
- 監視: ダッシュボードでの稼働状況監視

**成果物**:
- RPA設計書
- ロボット仕様書
- 運用マニュアル

#### 4.1.4 DX推進組織のIT環境整備

**要件ID**: REQ-P1-004

**概要**: DX推進室のIT環境・ツール整備

**必要ツール・環境**:

1. **コミュニケーション**
   - ビジネスチャット: Microsoft Teams / Slack
   - Web会議: Microsoft Teams / Zoom
   - プロジェクト管理: kintone拡張 / Backlog / Asana

2. **ドキュメント管理**
   - クラウドストレージ: SharePoint / Google Drive
   - ドキュメント共同編集: Microsoft 365
   - バージョン管理: Git（技術ドキュメント）

3. **分析・開発環境**
   - データ分析: Python環境、Jupyter Notebook
   - データベース接続ツール: DBeaver / A5:SQL
   - API開発・テスト: Postman

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| ビジネスチャット | Microsoft Teams（推奨） |
| ファイル共有 | SharePoint Online |
| Office Suite | Microsoft 365 |
| プロジェクト管理 | kintone拡張 or 専用ツール |

#### 4.1.5 全社員デジタルリテラシー研修プラットフォーム

**要件ID**: REQ-P1-005

**概要**: eラーニング環境の整備

**機能要件**:

- 研修コンテンツ配信
- 受講状況管理
- 理解度テスト
- 修了証明書発行

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| プラットフォーム | LMS（Learning Management System） |
| アクセス | Webブラウザ経由 |
| 対応デバイス | PC、タブレット、スマートフォン |
| 認証連携 | 既存AD/LDAPとの連携 |

---

### 4.2 Phase 2: デジタル化推進期（2027年度）

#### 4.2.1 電子稟議・承認システム

**要件ID**: REQ-P2-001

**概要**: 紙ベース稟議のデジタル化

**機能要件**:

1. **申請・承認ワークフロー**
   - 稟議種別ごとのワークフロー設定
   - 承認ルート自動判定
   - 代理承認機能
   - リマインド通知

2. **モバイル対応**
   - スマートフォンからの申請・承認
   - プッシュ通知
   - オフライン閲覧

3. **検索・分析**
   - 稟議履歴検索
   - 承認状況可視化
   - 滞留分析

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| プラットフォーム | kintone拡張 or 専用ワークフローシステム |
| 認証 | SSO（Single Sign-On） |
| 電子署名 | タイムスタンプ付与 |
| アーカイブ | 7年間保存（電子帳簿保存法対応） |

#### 4.2.2 現場作業報告のモバイル化

**要件ID**: REQ-P2-002

**概要**: 作業報告のモバイルアプリ化

**機能要件**:

1. **作業報告入力**
   - 作業内容入力
   - 写真撮影・添付
   - GPS位置情報記録
   - 音声入力対応

2. **オフライン対応**
   - オフライン時も入力可能
   - オンライン復帰時に自動同期

3. **リアルタイム共有**
   - 本部へのリアルタイム送信
   - 進捗状況可視化

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| 開発方式 | ネイティブアプリ or PWA |
| 対応OS | iOS 14以上、Android 10以上 |
| オフライン | ローカルストレージ活用 |
| 同期 | 差分同期方式 |
| 画像圧縮 | サーバー負荷軽減のため圧縮 |

#### 4.2.3 検査依頼〜報告プロセスの完全デジタル化

**要件ID**: REQ-P2-003

**概要**: 検査業務のペーパーレス化

**機能要件**:

1. **検査依頼**
   - Webフォームからの依頼
   - 必要情報の自動チェック
   - 優先度設定

2. **検査進捗管理**
   - ステータス管理
   - 進捗通知
   - リードタイム可視化

3. **検査報告**
   - 電子レポート生成
   - PDF自動作成
   - 顧客ポータルでの閲覧

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| フロントエンド | Webアプリ（React / Vue.js） |
| バックエンド | RESTful API |
| データベース | PostgreSQL / MySQL |
| レポート生成 | PDF生成ライブラリ |
| ISO/IEC17025対応 | トレーサビリティ確保 |

---

### 4.3 Phase 3: AI・分析活用期（2028年度）

#### 4.3.1 検査データのAI分析

**要件ID**: REQ-P3-001

**概要**: AI/機械学習による検査データ分析

**機能要件**:

1. **異常検知**
   - 検査データのパターン分析
   - 異常値の自動検出
   - アラート通知

2. **予測分析**
   - 季節性パターンの抽出
   - トレンド予測
   - リスク予測

3. **画像認識（異物検査）**
   - 異物の自動分類
   - 緊急度の自動判定
   - 見逃し防止支援

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| 機械学習フレームワーク | TensorFlow / PyTorch |
| 画像認識モデル | CNN（畳み込みニューラルネットワーク） |
| 学習データ | 過去の検査データ・画像 |
| 推論環境 | GPUサーバー or クラウドML |
| モデル更新 | 継続学習（Continual Learning） |

**非機能要件**:

- 推論速度: 1秒以内/画像
- 精度: 見逃し率 1%以下（目標）
- 過検出: 10%以下（目標）

#### 4.3.2 顧客ポータルサイト

**要件ID**: REQ-P3-002

**概要**: 顧客向けセルフサービスポータル

**機能要件**:

1. **顧客機能**
   - 契約情報閲覧
   - 作業履歴閲覧
   - 検査レポート閲覧・ダウンロード
   - 問い合わせ機能

2. **通知機能**
   - 作業完了通知
   - 検査結果通知
   - 契約更新リマインド

3. **モバイル対応**
   - レスポンシブデザイン
   - スマホアプリ（Phase 4で検討）

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| フロントエンド | React / Next.js |
| バックエンド | Node.js / Python |
| 認証 | OAuth 2.0 + MFA（多要素認証） |
| ホスティング | AWS / Azure |
| CDN | CloudFront / Azure CDN |

#### 4.3.3 CRMシステム導入

**要件ID**: REQ-P3-003

**概要**: 顧客関係管理システムの導入

**機能要件**:

1. **顧客管理**
   - 顧客基本情報管理
   - 担当者管理（複数担当者対応）
   - 企業グループ管理

2. **営業管理**
   - 商談管理
   - 案件パイプライン管理
   - 提案履歴管理
   - 成約・失注管理

3. **カスタマーサポート**
   - 問い合わせ管理
   - クレーム管理
   - 対応履歴管理

4. **分析**
   - 顧客セグメンテーション
   - 解約リスク分析
   - LTV（顧客生涯価値）分析

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| CRMツール | Salesforce / Microsoft Dynamics 365 / kintone拡張 |
| データ連携 | 総合経営管理システムと双方向連携 |
| モバイルアプリ | iOS / Android対応 |
| AI機能 | 推奨アクション提示、スコアリング |

---

### 4.4 Phase 4: 最適化・高度化期（2029年度）

#### 4.4.1 データウェアハウス/データレイク

**要件ID**: REQ-P4-001

**概要**: 全社データ統合分析基盤の構築

**機能要件**:

1. **データ統合**
   - 全システムのデータ集約
   - データクレンジング
   - データ変換・正規化

2. **データカタログ**
   - データ項目の定義・管理
   - データリネージ（系譜）管理
   - メタデータ管理

3. **高度分析環境**
   - アドホック分析
   - BI/ BA（ビジネスアナリティクス）
   - 機械学習環境

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| DWH | Azure Synapse Analytics / Amazon Redshift |
| データレイク | Azure Data Lake Storage / Amazon S3 |
| ETL/ELT | Azure Data Factory / AWS Glue |
| データカタログ | Azure Purview / AWS Glue Data Catalog |
| クエリエンジン | Apache Spark / Presto |

#### 4.4.2 マーケティングオートメーション

**要件ID**: REQ-P4-002

**概要**: MA（マーケティングオートメーション）導入

**機能要件**:

1. **リード管理**
   - リード獲得
   - リードナーチャリング
   - スコアリング

2. **キャンペーン管理**
   - メールマーケティング
   - Webトラッキング
   - 効果測定

3. **CRM連携**
   - 商談への引き継ぎ
   - データ同期

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| MAツール | HubSpot / Marketo / Pardot |
| CRM連携 | 双方向データ同期 |
| Web解析 | Google Analytics連携 |

---

### 4.5 Phase 5: 先進技術導入期（2030年度）

#### 4.5.1 IoT/センサー活用

**要件ID**: REQ-P5-001

**概要**: IoTセンサーによる予防保全・リアルタイム監視

**機能要件**:

1. **センサーデータ収集**
   - 温湿度センサー
   - トラップセンサー
   - カメラ（画像）

2. **リアルタイム監視**
   - ダッシュボード表示
   - 異常検知・通知
   - 傾向分析

3. **予防保全**
   - 異常予兆検知
   - 最適訪問タイミング提案

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| 通信方式 | LPWA (LoRaWAN / Sigfox) / LTE-M / 5G |
| IoTプラットフォーム | AWS IoT Core / Azure IoT Hub |
| データ処理 | エッジコンピューティング + クラウド |
| ストリーム処理 | Apache Kafka / Azure Event Hubs |

#### 4.5.2 VR/AR活用

**要件ID**: REQ-P5-002

**概要**: VR/ARによる現場視察・技術教育

**機能要件**:

1. **遠隔視察**
   - VR映像による現場確認
   - リアルタイムコミュニケーション

2. **AR技術教育**
   - 作業手順のAR表示
   - 害虫同定支援

**技術仕様**:

| 項目 | 仕様 |
|------|------|
| VRデバイス | Meta Quest / HoloLens |
| AR開発 | Unity / ARKit / ARCore |
| ストリーミング | WebRTC |

---

## 5. システム別詳細要件

### 5.1 総合経営管理システム拡張

#### 5.1.1 API公開

**要件ID**: REQ-SYS-001

**必要API一覧**:

| API名 | 機能 | 連携先 |
|-------|------|--------|
| 顧客情報API | 顧客マスタCRUD | CRM、ダッシュボード |
| 売上データAPI | 売上実績取得 | BI、分析システム |
| 契約情報API | 契約情報取得・更新 | 顧客ポータル、CRM |
| 作業履歴API | 作業履歴取得 | 顧客ポータル、分析 |
| 検査データAPI | 検査結果取得 | 分析システム、AI |

**API仕様**:

```
仕様: RESTful API
認証: OAuth 2.0 + JWT
データ形式: JSON
HTTPメソッド: GET, POST, PUT, DELETE
レート制限: 1000リクエスト/時（要調整）
バージョニング: /api/v1/...
エラーハンドリング: 標準HTTPステータスコード
```

#### 5.1.2 データビジュアル化機能強化

**要件ID**: REQ-SYS-002

**実装方法**:
- Power BI Embedded統合
- または独自ダッシュボード機能開発

**表示データ**:
- 経営KPI
- 部門別業績
- リアルタイムアラート

### 5.2 検査システム群のAI化

#### 5.2.1 異物検査AI

**要件ID**: REQ-AI-001

**AI機能**:

1. **異物分類**
   - 昆虫類、毛髪、繊維、金属等
   - 信頼度スコア表示

2. **緊急度判定**
   - 高・中・低の自動判定
   - 判定根拠の表示

3. **専門家支援**
   - AIの一次判定 → 専門家の最終判定
   - 学習データへのフィードバック

**技術仕様**:

```
モデル: CNN（VGG, ResNet, EfficientNet等）
学習データ: 過去の異物画像 + ラベル
精度目標: Accuracy 95%以上
推論時間: 1秒以内/画像
実装: Python（TensorFlow/PyTorch）
デプロイ: Docker コンテナ
```

#### 5.2.2 微生物検査AI

**要件ID**: REQ-AI-002

**AI機能**:

1. **コロニーカウント自動化**
   - 画像からのコロニー検出
   - 個数カウント
   - サイズ測定

2. **菌種同定支援**
   - 形態からの菌種推定
   - 確率表示

**技術仕様**:

```
モデル: 物体検出モデル（YOLO, Faster R-CNN等）
学習データ: シャーレ画像 + アノテーション
精度目標: カウント誤差 ±5%以内
ISO/IEC17025対応: トレーサビリティ確保
```

### 5.3 CRMシステム

#### 5.3.1 データモデル

**要件ID**: REQ-CRM-001

**主要エンティティ**:

```
Account (顧客企業)
  ├─ Contact (担当者)
  ├─ Contract (契約)
  ├─ Opportunity (商談)
  ├─ Case (問い合わせ・クレーム)
  └─ Activity (活動履歴)

Service History (作業履歴)
  ├─ Visit (訪問記録)
  ├─ Inspection (検査記録)
  └─ Report (報告書)
```

#### 5.3.2 総合経営管理システムとの連携

**要件ID**: REQ-CRM-002

**連携データ**:

| データ | 方向 | 頻度 |
|--------|------|------|
| 顧客マスタ | 双方向同期 | リアルタイム |
| 契約情報 | 双方向同期 | リアルタイム |
| 作業履歴 | 総合→CRM | 日次 |
| 売上データ | 総合→CRM | 日次 |
| 商談データ | CRM→総合 | リアルタイム |

---

## 6. セキュリティ要件

### 6.1 認証・認可

#### 6.1.1 多要素認証（MFA）

**要件ID**: REQ-SEC-001

**対象システム**:
- 総合経営管理システム
- 顧客ポータル
- CRM
- その他外部公開システム

**実装方式**:
- SMS認証
- 認証アプリ（Microsoft Authenticator, Google Authenticator等）
- 生体認証（モバイル）

**適用範囲**:
- Phase 1: 管理者アカウント
- Phase 2: 全社員
- Phase 3: 顧客ポータル

#### 6.1.2 SSO（Single Sign-On）

**要件ID**: REQ-SEC-002

**プロトコル**: SAML 2.0 / OAuth 2.0 + OpenID Connect

**対象システム**:
- 総合経営管理システム
- kintone
- Microsoft 365
- CRM
- その他連携システム

**IdP（Identity Provider）**: Azure AD / Okta 等

### 6.2 データ保護

#### 6.2.1 暗号化

**要件ID**: REQ-SEC-003

**通信の暗号化**:
- TLS 1.2以上
- 自己署名証明書の使用禁止
- 証明書の定期更新

**データの暗号化**:
- 保存時暗号化（Encryption at Rest）
  - データベース: TDE（Transparent Data Encryption）
  - ファイル: AES-256
- 転送時暗号化（Encryption in Transit）
  - HTTPS（TLS 1.2以上）

**個人情報・機密情報**:
- 項目単位の暗号化
- 暗号鍵の安全な管理

#### 6.2.2 アクセスログ

**要件ID**: REQ-SEC-004

**記録内容**:
- ユーザー認証ログ
- データアクセスログ
- システム変更ログ
- API呼び出しログ

**保存期間**: 1年以上（法令要件に準拠）

**監視**:
- リアルタイム異常検知
- 定期的なログ分析

### 6.3 ゼロトラストセキュリティ

#### 6.3.1 段階的移行計画

**Phase 1（2026-2027年）**:
- MFA全社展開
- EDR導入
- SIEM導入検討

**Phase 2（2028-2029年）**:
- ゼロトラストアーキテクチャ設計
- マイクロセグメンテーション
- デバイス認証強化

**Phase 3（2030年）**:
- 完全ゼロトラスト実装
- 継続的な検証・監視

---

## 7. インフラ・運用要件

### 7.1 可用性

#### 7.1.1 SLA（Service Level Agreement）

**要件ID**: REQ-INF-001

| システム | 稼働率目標 | ダウンタイム許容 |
|----------|-----------|-----------------|
| 総合経営管理システム | 99.9% | 8.76時間/年 |
| 顧客ポータル | 99.5% | 43.8時間/年 |
| CRM | 99.5% | 43.8時間/年 |
| 経営ダッシュボード | 99.0% | 87.6時間/年 |
| 内部システム | 99.0% | 87.6時間/年 |

**メンテナンス窓**: 日曜日 2:00-6:00（月1回）

#### 7.1.2 バックアップ

**要件ID**: REQ-INF-002

| データ種別 | バックアップ頻度 | 保存期間 |
|------------|----------------|----------|
| 基幹データ | 日次（差分）+ 週次（フル） | 3ヶ月 |
| 検査データ | 日次（フル） | 7年（法令対応） |
| ログデータ | 日次 | 1年 |
| 設定情報 | 変更時 | 無期限 |

**バックアップ先**:
- オンサイト: NAS
- オフサイト: クラウドストレージ（AWS S3 / Azure Blob）

**リストアテスト**: 四半期に1回

#### 7.1.3 災害対策（DR: Disaster Recovery）

**要件ID**: REQ-INF-003

**RTO（目標復旧時間）**: 24時間以内
**RPO（目標復旧時点）**: 24時間以内

**DR戦略**:
- Phase 1: バックアップからのリストア
- Phase 2以降: クラウドDRサイト構築（Hot Standby or Warm Standby）

### 7.2 監視・運用

#### 7.2.1 システム監視

**要件ID**: REQ-OPS-001

**監視項目**:
- サーバーリソース（CPU、メモリ、ディスク）
- ネットワーク（帯域、遅延）
- アプリケーション（レスポンスタイム、エラー率）
- データベース（接続数、クエリ性能）

**監視ツール**: Zabbix / Datadog / Azure Monitor / CloudWatch

**アラート**:
- メール通知
- チャット通知（Teams / Slack）
- エスカレーション設定

#### 7.2.2 インシデント管理

**要件ID**: REQ-OPS-002

**インシデント分類**:

| レベル | 定義 | 対応時間 |
|--------|------|----------|
| P1（緊急） | システム全停止 | 15分以内 |
| P2（高） | 一部機能停止 | 1時間以内 |
| P3（中） | 性能劣化 | 4時間以内 |
| P4（低） | 軽微な不具合 | 翌営業日 |

**対応体制**:
- 1次対応: 情報システムG
- 2次対応: ベンダー
- エスカレーション: DX推進室長

---

## 8. データ要件

### 8.1 マスタデータ管理

#### 8.1.1 顧客マスタ

**要件ID**: REQ-DATA-001

**データ項目**:
```
顧客ID（PK）
顧客名
顧客名カナ
郵便番号
住所（都道府県、市区町村、番地、建物名）
電話番号
FAX番号
メールアドレス
業種
企業規模
担当営業所
担当営業担当者
登録日
更新日
ステータス（有効/無効）
```

**データ品質ルール**:
- 顧客IDは一意
- 重複チェック（名称、住所、電話番号）
- 必須項目の入力チェック

#### 8.1.2 商品マスタ

**要件ID**: REQ-DATA-002

**データ項目**:
```
商品ID（PK）
商品名
商品カテゴリ
単位
標準価格
原価
仕入先
在庫管理区分
法定区分（医薬品、毒劇物、高圧ガス、農薬）
SDS有無
登録日
更新日
ステータス（販売中/販売終了）
```

#### 8.1.3 社員マスタ

**要件ID**: REQ-DATA-003

**データ項目**:
```
社員ID（PK）
氏名
所属部署
役職
メールアドレス
電話番号（内線/携帯）
入社日
雇用形態
システム権限
ステータス（在職/退職）
```

### 8.2 データ品質管理

#### 8.2.1 データクレンジング

**要件ID**: REQ-DATA-004

**実施内容**:
- 重複データの統合
- 表記ゆれの統一
- 欠損値の補完
- 異常値の検出・修正

**実施頻度**: 月次

#### 8.2.2 データ標準化

**要件ID**: REQ-DATA-005

**標準化ルール**:
- 日付形式: YYYY-MM-DD
- 電話番号: ハイフンなし（0312345678）
- 郵便番号: ハイフンあり（123-4567）
- カナ: 全角カタカナ
- 英数字: 半角

### 8.3 データ保持期限

**要件ID**: REQ-DATA-006

| データ種別 | 保持期限 | 根拠 |
|------------|----------|------|
| 検査データ | 7年 | ISO/IEC17025、法令 |
| 契約データ | 7年 | 商法 |
| 会計データ | 7年 | 法人税法 |
| 売上データ | 7年 | 法人税法 |
| 作業履歴 | 5年 | 業務上の必要性 |
| アクセスログ | 1年 | セキュリティポリシー |

---

## 9. インターフェース要件

### 9.1 API設計方針

#### 9.1.1 RESTful API設計原則

**要件ID**: REQ-IF-001

**設計原則**:

1. **リソース指向**
   - エンドポイントはリソースを表現
   - 例: /api/v1/customers、/api/v1/inspections

2. **HTTPメソッド**
   - GET: リソース取得
   - POST: リソース作成
   - PUT: リソース更新（全体）
   - PATCH: リソース更新（部分）
   - DELETE: リソース削除

3. **ステータスコード**
   - 200: 成功
   - 201: 作成成功
   - 400: リクエスト不正
   - 401: 認証エラー
   - 403: 権限エラー
   - 404: リソース未存在
   - 500: サーバーエラー

4. **ページネーション**
   - リスト取得APIはページネーション必須
   - クエリパラメータ: ?page=1&size=20

5. **フィルタリング・ソート**
   - クエリパラメータ: ?filter=status:active&sort=-created_at

#### 9.1.2 APIドキュメント

**要件ID**: REQ-IF-002

**ドキュメントツール**: Swagger / OpenAPI Specification

**記載内容**:
- エンドポイント一覧
- リクエスト/レスポンス仕様
- 認証方法
- エラーコード一覧
- サンプルコード

### 9.2 データ連携方式

#### 9.2.1 リアルタイム連携

**要件ID**: REQ-IF-003

**適用対象**:
- マスタデータ（顧客、商品、社員）
- 契約情報
- 重要な業務データ

**連携方式**:
- RESTful API（同期呼び出し）
- Webhook（イベント駆動）

#### 9.2.2 バッチ連携

**要件ID**: REQ-IF-004

**適用対象**:
- 売上データ集計
- 作業履歴
- 大量データ

**連携方式**:
- ファイル連携（CSV / JSON）
- ETL処理

**実行タイミング**: 日次（深夜バッチ）

---

## 10. 非機能要件

### 10.1 パフォーマンス

**要件ID**: REQ-PERF-001

| 処理 | 目標値 |
|------|--------|
| 画面表示 | 2秒以内 |
| 検索処理 | 3秒以内 |
| API レスポンス | 1秒以内 |
| ダッシュボード | 5秒以内 |
| バッチ処理 | 4時間以内（夜間） |

**負荷条件**:
- 同時利用者: 100名
- ピーク時: 200名

### 10.2 拡張性

**要件ID**: REQ-SCALE-001

**スケールアウト**:
- Webサーバー: 水平スケール可能な構成
- APサーバー: ステートレス設計
- DBサーバー: Read Replica対応

**データ量**:
- 年間データ増加: 想定10%増
- 5年後データ量: 現在の1.6倍を想定

### 10.3 保守性

**要件ID**: REQ-MAINT-001

**ドキュメント**:
- システム設計書
- API仕様書
- データベース定義書
- 運用手順書
- トラブルシューティングガイド

**コード品質**:
- コーディング規約遵守
- コメント記述
- 単体テスト実施

### 10.4 ユーザビリティ

**要件ID**: REQ-UI-001

**対応ブラウザ**:
- Google Chrome（最新版）
- Microsoft Edge（最新版）
- Safari（最新版）

**レスポンシブ対応**:
- PC（1920x1080以上）
- タブレット（iPad サイズ）
- スマートフォン（375x667以上）

**アクセシビリティ**:
- WCAG 2.1 Level AA準拠（目標）

---

## 📚 付録

### A. 略語集

| 略語 | 正式名称 |
|------|---------|
| API | Application Programming Interface |
| AWS | Amazon Web Services |
| BI | Business Intelligence |
| CRM | Customer Relationship Management |
| DWH | Data Warehouse |
| EDR | Endpoint Detection and Response |
| ETL | Extract, Transform, Load |
| ISMS | Information Security Management System |
| JWT | JSON Web Token |
| LMS | Learning Management System |
| MA | Marketing Automation |
| MDM | Master Data Management |
| MFA | Multi-Factor Authentication |
| RPA | Robotic Process Automation |
| SaaS | Software as a Service |
| SIEM | Security Information and Event Management |
| SLA | Service Level Agreement |
| SSO | Single Sign-On |
| TLS | Transport Layer Security |

### B. 参考資料

1. **総合経営管理システム 現行仕様書**（要入手）
2. **イカリ消毒DXコンサル 統合分析レポート エビデンス版**
3. **業界動向・競合分析レポート**
4. **DX成功事例集**
5. **ISO/IEC17025認定要件**
6. **ISO27001 ISMS要件**

### C. ヒアリング確認事項

本要件定義書作成後、以下を確認する必要があります:

#### 現行システム

- [ ] 総合経営管理システムの技術スタック
- [ ] 各部門システムの詳細仕様
- [ ] データベーススキーマ
- [ ] API公開状況
- [ ] 現状のデータ連携方法

#### インフラ

- [ ] サーバー構成
- [ ] ネットワーク構成
- [ ] クラウド利用状況（AWS詳細）
- [ ] ライセンス保有状況

#### セキュリティ

- [ ] 現行の認証方式
- [ ] アクセス権限管理方法
- [ ] セキュリティポリシー
- [ ] インシデント対応フロー

#### データ

- [ ] データ量（各システム）
- [ ] データ更新頻度
- [ ] マスタデータ管理方法
- [ ] データ品質の現状

---

**本技術要件定義書に関するお問い合わせ**

株式会社ミオシステム
担当: 平野 雅也
Email: [お問い合わせ先メールアドレス]
Tel: [お問い合わせ先電話番号]

---

*本要件定義書は、2025年11月16日時点の情報に基づき作成されています。*
*ヒアリング実施後、実態に合わせて精緻化いたします。*
